# ==============================================================================
# Questables D&D Application - Environment Configuration
# ==============================================================================
# Copy this file to .env.local (not tracked by git) and configure your values
# 
# For detailed setup instructions, see DATABASE_SETUP.md
# ==============================================================================

# Frontend Configuration
# ------------------------------------------------------------------------------
# REQUIRED: URL where the database server is running (frontend -> backend)
VITE_DATABASE_SERVER_URL=http://localhost:3001

# PostgreSQL Database Configuration  
# ------------------------------------------------------------------------------
# Primary connection method - configure all these for local PostgreSQL
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=dnd_app
DATABASE_USER=your_username
DATABASE_PASSWORD=your_password
DATABASE_SSL=false

# Alternative: Single connection URL (overrides individual settings above)
# DATABASE_URL=postgresql://username:password@localhost:5432/dnd_app

# Alternative: PostgreSQL environment variables (if you prefer)
# PGHOST=localhost
# PGPORT=5432  
# PGDATABASE=dnd_app
# PGUSER=your_username
# PGPASSWORD=your_password

# Server Configuration
# ------------------------------------------------------------------------------
# Port for the database server (backend API)
DATABASE_SERVER_PORT=3001

# Frontend URL for CORS configuration
FRONTEND_URL=http://localhost:3000

# Optional: Enable HTTPS for the local database server
# Set to "true" to turn on TLS (falls back to HTTP when set to "false")
DATABASE_SERVER_USE_TLS=false

# Optional: Paths to TLS certificate and key (defaults to quixote.tail3f19fe.ts.net files when present)
# DATABASE_SERVER_TLS_CERT=../quixote.tail3f19fe.ts.net.crt
# DATABASE_SERVER_TLS_KEY=../quixote.tail3f19fe.ts.net.key

# Optional: Hostname used for log output/health URLs (defaults to localhost)
# DATABASE_SERVER_PUBLIC_HOST=quixote.tail3f19fe.ts.net

# Optional: Enable HTTPS for the Vite dev server (frontend)
DEV_SERVER_USE_TLS=false
# DEV_SERVER_TLS_CERT=./quixote.tail3f19fe.ts.net.crt
# DEV_SERVER_TLS_KEY=./quixote.tail3f19fe.ts.net.key

# Development Configuration
# ------------------------------------------------------------------------------
# Enable debug logging (optional)
DEBUG=false

# Enable verbose database logging (optional)
DB_DEBUG=false

# Health check configuration (optional)
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_RETRIES=3

# ==============================================================================
# Setup Notes:
# 
# 1. Create your PostgreSQL database:
#    createdb dnd_app
#
# 2. Import the schema:
#    psql -d dnd_app -f database/schema.sql
#
# 3. Configure the variables above with your values
#
# 4. Start the servers:
#    npm run db:server    # Start backend
#    npm run dev          # Start frontend
#
# 5. Check health: http://localhost:3001/api/health
#
# For troubleshooting, see DATABASE_SETUP.md
# =============================================================================
